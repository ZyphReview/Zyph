local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local SpeedInput = Instance.new("TextBox")
local WalkSpeedControl = Instance.new("TextLabel")
local Close = Instance.new("TextButton")
local Label = Instance.new("TextLabel")
local Open = Instance.new("TextButton")

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(148, 85, 27)
Frame.BorderColor3 = Color3.fromRGB(27, 42, 53)
Frame.BorderSizePixel = 3
Frame.Position = UDim2.new(0.382, 0, 0.270, 0)
Frame.Size = UDim2.new(0, 257, 0, 231)
Frame.Active = true
Frame.Draggable = true
Frame.Visible = false

SpeedInput.Parent = Frame
SpeedInput.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
SpeedInput.BorderSizePixel = 3
SpeedInput.Position = UDim2.new(0.2, 0, 0.5, 0)
SpeedInput.Size = UDim2.new(0, 150, 0, 50)
SpeedInput.Font = Enum.Font.SourceSans
SpeedInput.Text = "Enter Speed"
SpeedInput.TextColor3 = Color3.fromRGB(0, 0, 0)
SpeedInput.TextScaled = true
SpeedInput.TextWrapped = true

WalkSpeedControl.Parent = Frame
WalkSpeedControl.Size = UDim2.new(0, 257, 0, 59)
WalkSpeedControl.Font = Enum.Font.Highway
WalkSpeedControl.Text = "Speed Changer"
WalkSpeedControl.TextColor3 = Color3.fromRGB(0, 0, 0)
WalkSpeedControl.TextScaled = true
WalkSpeedControl.TextWrapped = true

Label.Parent = Frame
Label.Size = UDim2.new(0, 257, 0, 30)
Label.Position = UDim2.new(0, 0, 0.9, 0)
Label.Font = Enum.Font.SourceSans
Label.Text = "Follow Zyph on ScriptBlox"
Label.TextColor3 = Color3.fromRGB(0, 0, 0)
Label.TextScaled = true
Label.TextWrapped = true

Close.Parent = Frame
Close.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Close.Position = UDim2.new(1, 0, -0.026, 0)
Close.Size = UDim2.new(0, 63, 0, 69)
Close.Font = Enum.Font.SourceSans
Close.Text = "Close"
Close.TextColor3 = Color3.fromRGB(255, 0, 0)
Close.TextScaled = true
Close.TextWrapped = true

Open.Parent = ScreenGui
Open.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Open.Position = UDim2.new(0, 0, 0.52, 0)
Open.Size = UDim2.new(0, 200, 0, 50)
Open.Font = Enum.Font.SourceSans
Open.Text = "Open Speed Changer"
Open.TextColor3 = Color3.fromRGB(0, 0, 0)
Open.TextScaled = true
Open.TextWrapped = true

local lastSpeed = 16

game.Players.LocalPlayer.CharacterAdded:Connect(function(character)
    local player = game.Players.LocalPlayer
    local storedSpeed = player:GetAttribute("SavedWalkSpeed") or lastSpeed
    player:SetAttribute("SavedWalkSpeed", storedSpeed)
    local humanoid = character:WaitForChild("Humanoid")
    humanoid.WalkSpeed = lastSpeed
end)

SpeedInput.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local speed = tonumber(SpeedInput.Text)
        if speed then
            local player = game.Players.LocalPlayer
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = math.max(0, speed)
                player:SetAttribute("SavedWalkSpeed", humanoid.WalkSpeed)
                lastSpeed = humanoid.WalkSpeed
            end
        end
    end
end)

Close.MouseButton1Click:Connect(function()
    Frame.Visible = false
    Open.Visible = true
end)

Open.MouseButton1Click:Connect(function()
    Open.Visible = false
    Frame.Visible = true
end)

